{% extends 'base.html' %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/result.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/personalities.css')}}">
<title> Four color result</title>
{% endblock %}

{% block body %}
<div class="container">
  <div class="row">
    <div class="col py-5 text-center">
      <h1 class="display-6 fw-bold">Your personality type is:</h1>
      <br>
      {% if prediction == 1 %}
      <h1 class="display-4 fw-bold">jack of all trades</h1>
      <img src="{{url_for('static', filename='images/grey.png')}}">

      {% elif prediction == 2 %}
      <h1 class="display-4 fw-bold">Red & Yellow</h1>
      <img src="{{url_for('static', filename='images/red.png')}}">
      <img src="{{url_for('static', filename='images/yellow.png')}}">

      {% elif prediction == 3 %}
      <h1 class="display-4 fw-bold">Red</h1>
      <img src="{{url_for('static', filename='images/red.png')}}">

      {% elif prediction == 4 %}
      <h1 class="display-4 fw-bold">Red & Blue</h1>
      <img src="{{url_for('static', filename='images/red.png')}}">
      <img src="{{url_for('static', filename='images/blue.png')}}">

      {% elif prediction == 5 %}
      <h1 class="display-4 fw-bold">Blue</h1>
      <img src="{{url_for('static', filename='images/blue.png')}}">

      {% elif prediction == 6 %}
      <h1 class="display-4 fw-bold">Blue & Green</h1>
      <img src="{{url_for('static', filename='images/blue.png')}}">
      <img src="{{url_for('static', filename='images/green.png')}}">

      {% elif prediction == 7 %}
      <h1 class="display-4 fw-bold">Green</h1>
      <img src="{{url_for('static', filename='images/green.png')}}">

      {% elif prediction == 8 %}
      <h1 class="display-4 fw-bold">Green & Yellow</h1>
      <img src="{{url_for('static', filename='images/green.png')}}">
      <img src="{{url_for('static', filename='images/yellow.png')}}">

      {% elif prediction == 9 %}
      <h1 class="display-4 fw-bold">Yellow</h1>
      <img src="{{url_for('static', filename='images/yellow.png')}}">

      {% endif %}
      </h1>
    </div>
    <div class="col py-5">
      <div style="text-align: center;">
        <img src="data:image/png;base64, {{plot_url}}">
      </div>
      <br><br><br>
      <p><samp>
          Color procentages:<br>
          Green:&nbsp;&nbsp;{{color_procentages[0]}}%<br>
          Blue:&nbsp;&nbsp;&nbsp;{{color_procentages[1]}}%<br>
          Red:&nbsp;&nbsp;&nbsp;&nbsp;{{color_procentages[2]}}%<br>
          Yellow:&nbsp;{{color_procentages[3]}}%</samp></p>
    </div>
  </div>
</div>

{% if prediction == 1 %}
{% include 'personalities/personality_red.html' %}
{% include 'personalities/personality_yellow.html' %}

{% elif prediction == 2 %}
<h1 class="display-4 fw-bold">Red & Yellow</h1>
{% include 'personalities/personality_red.html' %}
{% include 'personalities/personality_yellow.html' %}

{% elif prediction == 3 %}
{% include 'personalities/personality_red.html' %}

{% elif prediction == 4 %}
{% include 'personalities/personality_red.html' %}
{% include 'personalities/personality_blue.html' %}

{% elif prediction == 5 %}
{% include 'personalities/personality_blue.html' %}

{% elif prediction == 6 %}
{% include 'personalities/personality_blue.html' %}
{% include 'personalities/personality_green.html' %}

{% elif prediction == 7 %}
{% include 'personalities/personality_green.html' %}

{% elif prediction == 8 %}
{% include 'personalities/personality_green.html' %}
{% include 'personalities/personality_yellow.html' %}

{% elif prediction == 9 %}
{% include 'personalities/personality_yellow.html' %}

{% endif %}




{% if config['ENV'] == 'Development' %}

<span class="divider"></span>

<p>Count: {{ counters }}</p>
<p>User hashes: {{ user_fingerprint }}</p>
<p>Procentages: {{ color_procentages }}</p>
<table class="table">
  <thead>
    <tr>
      <th scope="col">webhash</th>
      <th scope="col">httphash</th>
      <th scope="col">combinedhash</th>
      <th scope="col">Choices</th>
    </tr>
  </thead>
  <tbody>
    {% for answer in answers %}
    <tr>
      <td>{{ answer.httphash}}</td>
      <td>{{ answer.webhash}}</td>
      <td>{{ answer.combinedhash}}</td>
      <td>{{ answer.choices}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endif %}

{% endblock %}